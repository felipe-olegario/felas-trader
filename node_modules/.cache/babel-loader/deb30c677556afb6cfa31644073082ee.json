{"remainingRequest":"/home/felipeolegario/estudos-vue/stock-trader/node_modules/babel-loader/lib/index.js!/home/felipeolegario/estudos-vue/stock-trader/node_modules/eslint-loader/index.js??ref--13-0!/home/felipeolegario/estudos-vue/stock-trader/src/store/modules/portfolio.js","dependencies":[{"path":"/home/felipeolegario/estudos-vue/stock-trader/src/store/modules/portfolio.js","mtime":1548105214000},{"path":"/home/felipeolegario/estudos-vue/stock-trader/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/felipeolegario/estudos-vue/stock-trader/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/felipeolegario/estudos-vue/stock-trader/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nexport default {\n  state: {\n    funds: 10000,\n    stocks: []\n  },\n  mutations: {\n    buyStock: function buyStock(state, _ref) {\n      var stockId = _ref.stockId,\n          quantity = _ref.quantity,\n          stockPrice = _ref.stockPrice;\n      var record = state.stocks.find(function (element) {\n        return element.id == stockId;\n      });\n\n      if (record) {\n        record.quantity += quantity;\n      } else {\n        state.stocks.push({\n          id: stockId,\n          quantity: quantity\n        });\n      }\n\n      state.funds -= stockPrice * quantity;\n    },\n    sellStock: function sellStock(state, _ref2) {\n      var stockId = _ref2.stockId,\n          quantity = _ref2.quantity,\n          stockPrice = _ref2.stockPrice;\n      var record = state.stocks.find(function (element) {\n        return element.id == stockId;\n      });\n\n      if (record.quantity > quantity) {\n        record.quantity -= quantity;\n      } else {\n        state.stocks.splice(state.stocks.indexOf(record), 1);\n      }\n\n      state.funds += stockPrice * quantity;\n    },\n    setPortfolio: function setPortfolio(state, portfolio) {\n      state.funds = portfolio.funds;\n      state.stocks = portfolio.stockPortfolio ? portfolio.stockPortfolio : [];\n    }\n  },\n  actions: {\n    sellStock: function sellStock(_ref3, order) {\n      var commit = _ref3.commit;\n      commit('sellStock', order);\n    }\n  },\n  getters: {\n    stockPortfolio: function stockPortfolio(state, getters) {\n      return state.stocks.map(function (stock) {\n        var record = getters.stocks.find(function (element) {\n          return element.id == stock.id;\n        });\n        return {\n          id: stock.id,\n          quantity: stock.quantity,\n          name: record.name,\n          price: record.price\n        };\n      });\n    },\n    funds: function funds(state) {\n      return state.funds;\n    }\n  }\n};",{"version":3,"sources":["/home/felipeolegario/estudos-vue/stock-trader/src/store/modules/portfolio.js"],"names":["state","funds","stocks","mutations","buyStock","stockId","quantity","stockPrice","record","find","element","id","push","sellStock","splice","indexOf","setPortfolio","portfolio","stockPortfolio","actions","order","commit","getters","map","stock","name","price"],"mappings":"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","sourcesContent":["export default {\n    state: {\n        funds: 10000,\n        stocks: []\n    },\n    mutations: {\n        buyStock(state, { stockId, quantity, stockPrice }) {\n            const record = state.stocks.find(element => element.id == stockId)\n            if (record) {\n                record.quantity += quantity\n            } else {\n                state.stocks.push({\n                    id: stockId,\n                    quantity: quantity\n                })\n            }\n            state.funds -= stockPrice * quantity\n        },\n        sellStock(state, { stockId, quantity, stockPrice }) {\n            const record = state.stocks.find(element => element.id == stockId)\n            if (record.quantity > quantity) {\n                record.quantity -= quantity\n            } else {\n                state.stocks.splice(state.stocks.indexOf(record), 1)\n            }\n            state.funds += stockPrice * quantity\n        },\n        setPortfolio(state, portfolio) {\n            state.funds = portfolio.funds\n            state.stocks = portfolio.stockPortfolio ? portfolio.stockPortfolio : []\n        }\n    },\n    actions: {\n        sellStock({ commit }, order) {\n            commit('sellStock', order)\n        }\n    },\n    getters: {\n        stockPortfolio(state, getters) {\n            return state.stocks.map(stock => {\n                const record = getters.stocks.find(element => element.id == stock.id)\n                return {\n                    id: stock.id,\n                    quantity: stock.quantity,\n                    name: record.name,\n                    price: record.price\n                }\n            })\n        },\n        funds(state) {\n            return state.funds\n        }\n    }\n}"]}]}